<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Coming Soon — Undefeatables</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="css/style.css"/>

  <!-- inline extras for cinematic + futuristic visuals -->
  <style>
    /* --- visual canvas layer --- */
    .visual-wrap {
      position: relative;
      overflow: hidden;
      border-radius: 18px;
      padding: 2rem;
      margin-top: 2rem;
      box-shadow: var(--shadow);
      background:
        radial-gradient(800px 240px at 10% 15%, rgba(123,75,255,0.06), transparent 6%),
        radial-gradient(600px 200px at 90% 85%, rgba(0,212,255,0.035), transparent 6%),
        linear-gradient(180deg, rgba(10,12,20,0.55), rgba(3,6,12,0.6));
    }

    /* canvas sits behind content */
    #bg-canvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      mix-blend-mode: screen;
    }

    /* cinematic fog layers */
    .fog {
      position: absolute;
      inset: 0;
      z-index: 1;
      pointer-events: none;
      background: linear-gradient(180deg, rgba(6,8,14,0.0), rgba(6,8,14,0.3));
    }
    .fog::before, .fog::after {
      content: "";
      position: absolute;
      left: -20%;
      right: -20%;
      height: 40%;
      background: radial-gradient(50% 100% at 50% 50%, rgba(255,255,255,0.02), transparent 35%);
      transform: translateY(10%);
      opacity: 0.8;
      filter: blur(40px);
      animation: slowFloat 18s linear infinite;
    }
    .fog::after {
      top: 40%;
      opacity: 0.65;
      animation-duration: 26s;
      transform: translateY(-5%);
    }
    @keyframes slowFloat {
      0% { transform: translateX(-10%) translateY(0) scale(1); }
      50% { transform: translateX(10%) translateY(6%) scale(1.03); }
      100% { transform: translateX(-10%) translateY(0) scale(1); }
    }

    /* thin neon scanlines */
    .scanlines {
      position: absolute;
      inset: 0;
      z-index: 2;
      background-image:
        linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
      background-size: 300px 100%;
      opacity: 0.03;
      pointer-events: none;
      mix-blend-mode: overlay;
      animation: slideBG 45s linear infinite;
    }
    @keyframes slideBG { from { background-position: 0 0 } to { background-position: 300px 0 } }

    /* hero graphics + title */
    .coming-hero {
      position: relative;
      z-index: 3;
      text-align: center;
      color: #eaf1ff;
      padding: 3.2rem 1.25rem;
      backdrop-filter: blur(4px);
    }
    .coming-hero h1 {
      font-size: 3rem;
      margin: 0 0 .6rem;
      font-weight: 800;
      letter-spacing: -1px;
      line-height: 1.02;
      text-wrap: balance;
      text-shadow:
        0 8px 30px rgba(2,6,23,0.7),
        0 0 32px rgba(123,75,255,0.06);
      background: linear-gradient(90deg, rgba(196,107,255,0.95), rgba(123,75,255,0.95));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      transform: translateY(6px);
      opacity: 0;
      animation: revealUp .9s cubic-bezier(.2,.9,.2,1) .1s forwards;
    }

    .coming-hero .sub {
      color: var(--muted);
      font-size: 1.05rem;
      margin-bottom: 1.4rem;
      opacity: 0;
      transform: translateY(8px);
      animation: revealUp .9s cubic-bezier(.2,.9,.2,1) .25s forwards;
    }

    @keyframes revealUp {
      to { transform: translateY(0); opacity: 1; }
    }

    /* neon underline pulse */
    .hero-underscore {
      height: 6px;
      width: 180px;
      margin: 1.15rem auto 1.2rem;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--brand1), var(--brand2));
      box-shadow: 0 10px 40px rgba(123,75,255,0.14);
      opacity: 0;
      transform: scaleX(0.7);
      animation: underscoreIn .8s cubic-bezier(.2,.9,.2,1) .55s forwards;
    }
    @keyframes underscoreIn {
      to { opacity: 1; transform: scaleX(1); }
    }

    /* waitlist box - use your existing look but elevated */
    .waitlist-box {
      max-width: 560px;
      margin: 1.6rem auto 0;
      padding: 1.2rem;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      box-shadow: 0 10px 40px rgba(2,6,23,0.6);
      position: relative;
      z-index: 4;
      border: 1px solid rgba(255,255,255,0.03);
    }
    .waitlist-box h3 {
      margin: 0 0 .6rem;
      font-size: 1.2rem;
      font-weight: 700;
      color: #eaf1ff;
    }
    .waitlist-row { display:flex; gap:.6rem; align-items:center; }
    .waitlist-row input[type="email"] {
      flex:1;
      padding:.78rem .9rem;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.03);
      background: #071022;
      color: #eaf1ff;
      font-size:1rem;
      outline: none;
      transition: box-shadow .15s ease, transform .12s ease;
    }
    .waitlist-row input[type="email"]:focus {
      box-shadow: 0 6px 24px rgba(123,75,255,0.08);
      transform: translateY(-1px);
    }
    .waitlist-row .btn {
      padding:.68rem .9rem;
      border-radius:10px;
      box-shadow: 0 8px 24px rgba(123,75,255,0.12);
      transition: transform .18s ease, box-shadow .18s ease, opacity .12s ease;
      background: linear-gradient(90deg, rgba(196,107,255,0.95), rgba(0,212,255,0.95));
      color: #021024;
      border: none;
      font-weight: 800;
      cursor: pointer;
    }
    .waitlist-row .btn[disabled] { opacity: 0.6; cursor: default; transform: none; box-shadow: none; }
    .waitlist-row .btn:active{ transform: translateY(1px); box-shadow: 0 6px 18px rgba(0,0,0,0.5) }

    .muted-note { color: var(--muted); font-size:.9rem; margin-top:.6rem; }

    /* callouts for creators */
    .creator-cta {
      display:flex; gap:.6rem; justify-content:center; margin-top:1rem; z-index:4;
    }
    .ghost-btn { background: transparent; border:1px solid rgba(255,255,255,0.04); color:#dfeeff; padding:.6rem .9rem; border-radius:10px; text-decoration:none; font-weight:700; }

    /* small animated accent shapes */
    .accent-orb {
      position:absolute;
      width:120px;height:120px;border-radius:50%;
      background: radial-gradient(circle at 30% 30%, rgba(196,107,255,0.85), rgba(123,75,255,0.6) 40%, transparent 60%);
      filter: blur(20px);
      z-index:1;
      opacity:0.9;
      transform: translate3d(0,-20px,0);
      animation: orbFloat 8s ease-in-out infinite;
    }
    .accent-orb.right { right:-6%; top:8%; animation-duration:11s; background: radial-gradient(circle at 30% 30%, rgba(0,212,255,0.85), rgba(0,180,255,0.55) 40%, transparent 60%); }
    @keyframes orbFloat {
      0% { transform: translate3d(0,-6px,0) scale(1); }
      50% { transform: translate3d(12px,6px,0) scale(1.03); }
      100% { transform: translate3d(0,-6px,0) scale(1); }
    }

    /* header + nav (added responsiveness & mobile toggle) */
    .header-wrap {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:1rem;
      padding: .75rem 0;
      z-index: 6;
    }
    .brand { display:flex; gap:.85rem; align-items:center; }
    .brand img { height:44px; width:auto; display:block; }
    .brand h2 { margin:0; font-size:1.1rem; color: #eaf1ff; }
    .brand .small { margin:0; color:var(--muted); font-size:.85rem; }

    nav { z-index: 8; }
    nav ul { display:flex; gap:1rem; list-style:none; margin:0; padding:0; align-items:center; }
    nav a { color: var(--muted); text-decoration:none; font-weight:700; padding:.4rem .6rem; border-radius:8px; }
    nav a:hover { color: #eaf1ff; background: rgba(255,255,255,0.02); }

    /* mobile toggle */
    .nav-toggle {
      display: none;
      background: transparent;
      border: 1px solid rgba(255,255,255,0.06);
      padding: .45rem;
      border-radius: 10px;
      color: #eaf1ff;
      cursor: pointer;
    }

    /* responsive tuning: reduce heavy visuals on small screens */
    @media (max-width: 700px) {
      .coming-hero h1 { font-size: 1.9rem; }
      .visual-wrap { padding: 1.25rem; margin-top: 1rem; }
      .accent-orb { display:none; }

      /* mobile nav: hide the inline list until toggled */
      nav ul { display: none; flex-direction: column; gap: 0; background: linear-gradient(180deg, rgba(7,16,34,0.85), rgba(3,6,12,0.85)); position: absolute; right: 10px; top: 68px; padding: .6rem; border-radius: 12px; min-width: 160px; box-shadow: 0 10px 30px rgba(2,6,23,0.7); border: 1px solid rgba(255,255,255,0.03); }
      nav ul.open { display: flex; }
      nav ul li { width:100%; }
      nav ul a { display:block; padding:.6rem .9rem; color:#eaf1ff; }
      .nav-toggle { display: inline-flex; align-items:center; justify-content:center; }
      .header-wrap { gap:.5rem; }
    }

    /* subtle footer glow */
    footer.site-footer {
      margin-top: 2rem;
      padding: 1rem 0;
      text-align: center;
      color: var(--muted);
      z-index: 6;
      position: relative;
    }

    /* tiny success message */
    .waitlist-success {
      display:none;
      margin-top:.6rem;
      padding:.7rem;
      border-radius:8px;
      background: linear-gradient(90deg, rgba(123,75,255,0.06), rgba(0,212,255,0.04));
      color: #eaf1ff;
      font-weight:700;
      text-align:center;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
    }
    .waitlist-success.show { display:block; animation: successIn .36s ease both; }
    @keyframes successIn { from { transform: translateY(6px); opacity: 0 } to { transform: translateY(0); opacity:1 } }
  </style>
</head>

<body>
  <main class="container">
    <!-- header -->
    <header class="header-wrap" style="position:relative; z-index:6;">
      <div class="brand">
        <img src="https://undefeatables.in/assets/logo-u.png" alt="Undefeatables logo">
        <div>
          <h2>Undefeatables</h2>
          <p class="small">Limitless. Fearless. Undefeatable.</p>
        </div>
      </div>

      <!-- mobile toggle -->
      <button class="nav-toggle" aria-expanded="false" aria-controls="main-nav" id="navToggle" aria-label="Toggle navigation">
        <!-- simple hamburger icon -->
        <svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect width="20" height="2" rx="1" fill="currentColor"/>
          <rect y="6" width="20" height="2" rx="1" fill="currentColor"/>
          <rect y="12" width="20" height="2" rx="1" fill="currentColor"/>
        </svg>
      </button>

      <nav id="main-nav" aria-label="Main navigation">
        <ul id="navList">
          <li><a href="/about.html">About</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </ul>
      </nav>
    </header>

    <!-- visual container -->
    <section class="visual-wrap">
      <!-- canvas for particles -->
      <canvas id="bg-canvas" aria-hidden="true"></canvas>

      <!-- cinematic fog + scanlines -->
      <div class="fog" aria-hidden="true"></div>
      <div class="scanlines" aria-hidden="true"></div>

      <!-- floating orbs for depth -->
      <div class="accent-orb" style="left:-9%; top:8%;"></div>
      <div class="accent-orb right" style="right:-9%; bottom:12%;"></div>

      <!-- content -->
      <div class="coming-hero">
        <h1>Become Limitless — Launching Soon</h1>
        <div class="hero-underscore" aria-hidden="true"></div>
        <p class="sub">Creator-led skill courses, project-first learning, and a community that ships work — built for people who actually do.</p>

        <!-- waitlist -->
        <div class="waitlist-box" aria-live="polite">
          <h3>Get Early Access</h3>
          <form id="waitlistForm" action="#" method="POST" novalidate>
            <div class="waitlist-row">
              <input id="wl-email" type="email" name="email" placeholder="you@domain.com" required aria-label="email" autocomplete="email">
              <button class="btn" type="submit" id="wl-submit">Join Waitlist</button>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:.6rem;">
              <p class="muted-note">Limited early slots — creators & mentors invited first.</p>
              <div style="display:flex;gap:.5rem">
                <a href="mailto:creators@undefeatables.in" class="ghost-btn">Apply as Creator</a>
              </div>
            </div>
          </form>

          <div id="waitlistSuccess" class="waitlist-success" role="status">Thanks — you’re on the list! Check your inbox for updates.</div>
        </div>

        <div class="creator-cta">
          <!-- additional CTA if needed -->
        </div>

      </div>
    </section>

  </main>

  <footer class="site-footer">© 2025 Undefeatables — All rights reserved.</footer>

  <!-- Keep your common scripts -->
  <script src="js/script.js" defer></script>

  <!-- inline JS: particles, reduced mode -->
  <script>
    /* ---------------------------
       Particle field (lightweight)
       --------------------------- */
    (function(){
      const canvas = document.getElementById('bg-canvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let DPR = Math.min(window.devicePixelRatio || 1, 2);
      let w = canvas.width = canvas.clientWidth * DPR;
      let h = canvas.height = canvas.clientHeight * DPR;

      const reduced = window.matchMedia('(max-width:700px)').matches || (navigator.deviceMemory && navigator.deviceMemory < 2);

      const PARTICLE_COUNT = reduced ? 18 : 48;
      const particles = [];

      function rand(min, max){ return Math.random()*(max-min)+min; }

      function init(){
        DPR = Math.min(window.devicePixelRatio || 1, 2);
        w = canvas.width = canvas.clientWidth * DPR;
        h = canvas.height = canvas.clientHeight * DPR;
        particles.length = 0;
        for(let i=0;i<PARTICLE_COUNT;i++){
          particles.push({
            x: rand(0,w),
            y: rand(0,h),
            r: rand(0.6, 2.6) * DPR,
            vx: rand(-0.12,0.12),
            vy: rand(-0.06,0.06),
            hue: rand(180, 280),
            alpha: rand(0.08, 0.35)
          });
        }
      }

      function draw(){
        ctx.clearRect(0,0,w,h);
        // subtle gradient glow background (adds cinematic depth)
        const g = ctx.createLinearGradient(0,0,w,h);
        g.addColorStop(0, 'rgba(123,75,255,0.02)');
        g.addColorStop(1, 'rgba(0,212,255,0.01)');
        ctx.fillStyle = g;
        ctx.fillRect(0,0,w,h);

        // moving thin lines (scan-like)
        ctx.globalCompositeOperation = 'lighter';
        particles.forEach(p=>{
          p.x += p.vx;
          p.y += p.vy;
          if(p.x < -20) p.x = w + 20;
          if(p.x > w + 20) p.x = -20;
          if(p.y < -20) p.y = h + 20;
          if(p.y > h + 20) p.y = -20;

          // glow
          const grd = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.r*6);
          const color = `hsla(${p.hue}, 85%, 60%, ${p.alpha})`;
          grd.addColorStop(0, color);
          grd.addColorStop(0.2, 'rgba(255,255,255,0.02)');
          grd.addColorStop(1, 'transparent');
          ctx.fillStyle = grd;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r*6, 0, Math.PI*2);
          ctx.fill();

          // core dot
          ctx.beginPath();
          ctx.fillStyle = `hsla(${p.hue}, 85%, 60%, ${Math.min(1,p.alpha*2)})`;
          ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
          ctx.fill();
        });
        ctx.globalCompositeOperation = 'source-over';
      }

      let raf;
      function loop(){
        draw();
        raf = requestAnimationFrame(loop);
      }

      // init + start
      init();
      if(!reduced) loop();

      // on resize re-init
      let resizeTO;
      window.addEventListener('resize', ()=>{
        cancelAnimationFrame(raf);
        clearTimeout(resizeTO);
        resizeTO = setTimeout(()=>{ init(); if(!reduced) loop(); }, 250);
      });

      // small performance guard: stop particles on hidden page
      document.addEventListener('visibilitychange', ()=>{
        if(document.hidden) cancelAnimationFrame(raf);
        else loop();
      });
    })();
  </script>

  <!-- Nav Toggle + Waitlist Firebase handler -->
  <script type="module">
    // ----------------------
    // Mobile nav toggle
    // ----------------------
    const navToggle = document.getElementById('navToggle');
    const navList = document.getElementById('navList');

    if(navToggle && navList){
      navToggle.addEventListener('click', () => {
        const isOpen = navList.classList.toggle('open');
        navToggle.setAttribute('aria-expanded', String(isOpen));
      });

      // Close nav on outside click (mobile)
      document.addEventListener('click', (e) => {
        const target = e.target;
        if (!navList.contains(target) && !navToggle.contains(target) && navList.classList.contains('open')) {
          navList.classList.remove('open');
          navToggle.setAttribute('aria-expanded', 'false');
        }
      });
    }

    // ----------------------
    // Firebase Firestore waitlist (modular SDK)
    // ----------------------
    // NOTE: replace the firebaseConfig object with your project's values.
    // You can obtain these in the Firebase console (Project Settings -> SDK setup).
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    // TODO: replace with your Firebase config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    let db;
    try {
      const app = initializeApp(firebaseConfig);
      db = getFirestore(app);
      // If config values are placeholder, operations will fail — we fallback below.
    } catch (err) {
      console.warn('Firebase init failed (will use fallback):', err);
      db = null;
    }

    const waitlistForm = document.getElementById('waitlistForm');
    const emailInput = document.getElementById('wl-email');
    const submitBtn = document.getElementById('wl-submit');
    const successEl = document.getElementById('waitlistSuccess');

    function fallbackStore(email){
      const key = 'ud_waitlist_v1';
      const arr = JSON.parse(localStorage.getItem(key) || '[]');
      arr.push({ email, at: new Date().toISOString() });
      localStorage.setItem(key, JSON.stringify(arr));
    }

    function showSuccess(message){
      if(successEl){
        successEl.textContent = message || 'Thanks — you’re on the list! Check your inbox for updates.';
        successEl.classList.add('show');
        setTimeout(()=> successEl.classList.remove('show'), 6000);
      } else {
        alert(message || 'Added to waitlist');
      }
    }

    if(waitlistForm){
      waitlistForm.addEventListener('submit', async (ev) => {
        ev.preventDefault();
        const email = (emailInput && emailInput.value || '').trim();
        if(!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
          alert('Please enter a valid email address.');
          return;
        }

        // UI feedback
        submitBtn.disabled = true;
        const oldTxt = submitBtn.innerText;
        submitBtn.innerText = 'Adding...';

        // Try Firestore, else fallback to localStorage
        let saved = false;
        if(db){
          try {
            await addDoc(collection(db, 'waitlist'), {
              email,
              createdAt: serverTimestamp()
            });
            saved = true;
            showSuccess('You’ve been added to the waitlist — check your email for updates.');
          } catch (err) {
            console.warn('Firestore add failed, falling back:', err);
          }
        }

        if(!saved){
          try {
            // attempt a small fetch to /api/waitlist if you have a server endpoint
            const res = await fetch('/api/waitlist', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ email })
            });
            if(res && res.ok){
              saved = true;
              showSuccess('You’ve been added to the waitlist — check your email for updates.');
            }
          } catch (e) {
            // ignore
          }
        }

        if(!saved){
          fallbackStore(email);
          showSuccess('Added to local waitlist (demo). We will migrate this when backend is ready.');
        }

        // reset UI
        submitBtn.innerText = oldTxt;
        submitBtn.disabled = false;
        if(emailInput) emailInput.value = '';
      });
    }
  </script>

</body>
</html>
